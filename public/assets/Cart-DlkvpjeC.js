import{u as k}from"./cart-BHO9EsES.js";import{_ as v,w as y,s as b,t as u,v as h,x as t,N as p,y as m,A as s,z as $,H as I,r as g,f as S,F as q,C as w,O as N,D as A,E as B,G as O}from"./index-EAFtPwOD.js";const V={class:"product-info"},D={class:"flex-box"},K=["src"],P={class:"product-price"},U={class:"quantity-control"},j={class:"flex-box"},E={class:"delebox"},F={class:"addbox"},G={class:"product-price-total"},M={style:{"text-align":"center"}},z={class:"product-delete"},H={__name:"CartItem",props:{product:{id:String,imageUrl:String,title:String,description:String,origin_price:Number,price:Number,quantity:Number}},emits:["checkCart"],setup(e,{expose:c,emit:r}){const a=k(),d=e,l=r,i=()=>{console.log("checkProduct 被調用"),!d.product||Object.keys(d.product).length===0?(l("checkCart","購物車為空"),alert("購物車為空")):(l("checkCart","請繼續結帳"),alert("請繼續結帳"))};return y(()=>d.product,(n,o)=>{console.log("props.product 變化了",n,o),i()},{deep:!0}),c({checkProduct:i}),(n,o)=>{const f=b("font-awesome-icon"),x=b("el-button");return u(),h("tr",null,[t("td",V,[t("div",D,[t("img",{src:e.product.imageUrl,alt:"",width:"50"},null,8,K),t("h4",null,p(e.product.title),1)])]),t("td",P,p(e.product.price),1),t("td",U,[t("div",j,[t("div",E,[m(f,{icon:"fa-solid fa-minus",onClick:o[0]||(o[0]=C=>s(a).minus(e.product.id))})]),t("h3",null,p(e.product.quantity),1),t("div",F,[m(f,{icon:"fa-solid fa-plus",onClick:o[1]||(o[1]=C=>s(a).add(e.product.id))})])])]),t("td",G,[t("h4",M,p(e.product.price*e.product.quantity),1)]),t("td",z,[m(x,{type:"danger",onClick:o[2]||(o[2]=C=>s(a).remove(e.product.id))},{default:$(()=>[I("刪除")]),_:1})])])}}},L=v(H,[["__scopeId","data-v-6af02b89"]]),_=e=>(B("data-v-80ca4943"),e=e(),O(),e),Q={class:"cartopen_box"},T=_(()=>t("h2",null,"購物車",-1)),J=_(()=>t("thead",null,[t("tr",null,[t("td",{class:"product-name"},"商品名稱"),t("td",{class:"product-price"},"價格"),t("td",{class:"quantity"},"數量"),t("td",{class:"quantity"},"小計"),t("td",{class:"othMethod"})])],-1)),R=_(()=>t("td",{colspan:"4"},null,-1)),W={class:"checkout"},X=_(()=>t("tr",null,[t("td",null,"運費"),t("td",null,"$60")],-1)),Y=_(()=>t("td",null,"總計",-1)),Z={__name:"Cart",setup(e){const c=k(),r=g([]);S(()=>{r.value=Object.values(r.value)});const a=l=>{console.log(l),alert(l)},d=()=>{alert("您已送出訂單")};return g([{id:"-O182suwbu2sCGcyoK7-",imageUrl:"https://thumbsnap.com/i/qh5QKKgx.png",title:"不再數錢度日",description:"測試的描述",origin_price:350,price:350,quantity:1}]),(l,i)=>(u(),h("div",Q,[t("main",null,[T,t("table",null,[J,t("tbody",null,[(u(!0),h(q,null,w(s(c).shoppingCart,n=>(u(),A(L,{key:n.id,product:n,onCheckCart:a,ref_for:!0,ref_key:"cartItems",ref:r},null,8,["product"]))),128))]),t("tfoot",null,[t("tr",null,[R,t("td",null,[s(c).shoppingCart.length>0?(u(),h("button",{key:0,onClick:i[0]||(i[0]=(...n)=>s(c).removeAll&&s(c).removeAll(...n)),class:"AllDelebtn"}," 一鍵刪除 ")):N("",!0)])])])]),t("table",W,[t("tbody",null,[X,t("tr",null,[Y,t("td",null,"$"+p(s(c).total),1)])])]),t("div",{class:"send_box"},[t("button",{onClick:d},"結帳送出")])])]))}},ot=v(Z,[["__scopeId","data-v-80ca4943"]]);export{ot as default};
