import{u as k}from"./cart-gIbJKlfy.js";import{_ as v,w as $,s as C,t as i,v as _,x as t,N as u,y as h,A as n,z as I,H as S,F as x,r as g,f as q,C as w,O as N,D as A,E as B,G as O}from"./index-j0Kmu447.js";const V={class:"product-info"},D={class:"flex-box"},K=["src"],U={class:"product-price"},j={class:"quantity-control"},E={class:"flex-box"},F={class:"delebox"},G={class:"addbox"},M={class:"product-price-total"},P={style:{"text-align":"center"}},z={class:"product-delete"},H={__name:"CartItem",props:{product:{id:String,imageUrl:String,title:String,description:String,origin_price:Number,price:Number,quantity:Number}},emits:["checkCart"],setup(e,{expose:c,emit:r}){const a=k(),l=e,d=r,o=()=>{console.log("checkProduct 被調用"),!l.product||Object.keys(l.product).length===0?(d("checkCart","購物車為空"),alert("購物車為空")):(d("checkCart","請繼續結帳"),alert("請繼續結帳"))};return $(()=>l.product,(m,s)=>{console.log("props.product 變化了",m,s),o()},{deep:!0}),c({checkProduct:o}),(m,s)=>{const b=C("font-awesome-icon"),y=C("el-button");return i(),_(x,null,[t("tr",null,[t("td",V,[t("div",D,[t("img",{src:e.product.imageUrl,alt:"",width:"50"},null,8,K),t("h4",null,u(e.product.title),1)])]),t("td",U,u(e.product.price),1),t("td",j,[t("div",E,[t("div",F,[h(b,{icon:"fa-solid fa-minus",onClick:s[0]||(s[0]=f=>n(a).minus(e.product.id))})]),t("h3",null,u(e.product.quantity),1),t("div",G,[h(b,{icon:"fa-solid fa-plus",onClick:s[1]||(s[1]=f=>n(a).add(e.product.id))})])])]),t("td",M,[t("h4",P,u(e.product.price*e.product.quantity),1)]),t("td",z,[h(y,{type:"danger",onClick:s[2]||(s[2]=f=>n(a).remove(e.product.id))},{default:I(()=>[S("刪除")]),_:1})])]),t("div",{class:"send_box"},[t("button",{onClick:o},"結帳送出")])],64)}}},L=v(H,[["__scopeId","data-v-b4340c4d"]]),p=e=>(B("data-v-6b553213"),e=e(),O(),e),Q={class:"cartopen_box"},T=p(()=>t("h2",null,"購物車",-1)),J=p(()=>t("thead",null,[t("tr",null,[t("td",{class:"product-name"},"商品名稱"),t("td",{class:"product-price"},"價格"),t("td",{class:"quantity"},"數量"),t("td",{class:"quantity"},"小計"),t("td",{class:"othMethod"})])],-1)),R=p(()=>t("td",{colspan:"4"},null,-1)),W={class:"checkout"},X=p(()=>t("tr",null,[t("td",null,"運費"),t("td",null,"$60")],-1)),Y=p(()=>t("td",null,"總計",-1)),Z={__name:"Cart",setup(e){const c=k(),r=g([]);q(()=>{r.value=Object.values(r.value)});const a=l=>{console.log(l),alert(l)};return g([{id:"-O182suwbu2sCGcyoK7-",imageUrl:"https://thumbsnap.com/i/qh5QKKgx.png",title:"不再數錢度日",description:"測試的描述",origin_price:350,price:350,quantity:1}]),(l,d)=>(i(),_("div",Q,[t("main",null,[T,t("table",null,[J,t("tbody",null,[(i(!0),_(x,null,w(n(c).shoppingCart,o=>(i(),A(L,{key:o.id,product:o,onCheckCart:a,ref_for:!0,ref_key:"cartItems",ref:r},null,8,["product"]))),128))]),t("tfoot",null,[t("tr",null,[R,t("td",null,[n(c).shoppingCart.length>0?(i(),_("button",{key:0,onClick:d[0]||(d[0]=(...o)=>n(c).removeAll&&n(c).removeAll(...o)),class:"AllDelebtn"}," 一鍵刪除 ")):N("",!0)])])])]),t("table",W,[t("tbody",null,[X,t("tr",null,[Y,t("td",null,"$"+u(n(c).total),1)])])])])]))}},ot=v(Z,[["__scopeId","data-v-6b553213"]]);export{ot as default};
